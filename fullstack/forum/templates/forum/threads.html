{% extends "forum/forum.html" %}
{% load thread_extras %}
{% block page_title %}{{ subject.name }} Threads | Fullstack Forums | Learn Web Development{% endblock %}
{% block forum_subtitle %}
    <div class="row no-gutters">
        <a class="btn btn-subhero btn-subhero--forum" href="{% url 'forum' %}">All Forums</a>
        {% if user.is_authenticated %}
        <a class="btn btn-subhero btn-subhero--forum" href="{% url 'new_thread' subject.id %}">New Thread</a>
        {% endif %}
    </div>
{% endblock %}
{% block forum %}
<section class="forum-section--main threads-list">
    <div class="row no-gutters thread-name-container justify-content-center align-items-center">
        <h2 class="display-4">{{ subject.name }} Threads</h2>
    </div>
    {% for thread in subject.threads.all %}
    {% include "forum/thread_item.html" %}
    {% empty %}
    <div class="empty-container d-flex flex-column justify-content-center align-items-center">
        <div class="empty-title">
            <strong>There are no {{ subject.name }} threads at the moment!</strong>
        </div>
        {% if user.is_authenticated %}
        <div class="empty-info">
            <p>Be the first to get the conversation going by clicking on the 'New Thread' button below.</p>
        </div>
        {% else %}
        <div class="empty-info">
            <p>You could be the first to get the conversation going.</p>
            <p>Simply log in or register by clicking the button below.</p>
        </div>
        {% endif %}
    </div>
    {% endfor %}
    <div class="new-post-section">
        {% if user.is_authenticated %}
            <a href="{% url 'new_thread' subject.id %}" class="btn admin-btn">New Thread</a>
        {% else %}
        <div class="login-required-container d-flex flex-column justify-content-center align-items-center">
            <div class="login-required-title">
                <strong>Looking to add a new thread?</strong>
            </div>
            <div class="login-required-info">
                You must be logged in to add a new thread. Click on one of the links below to login or register.
            </div>
            <div class="login-required-cta d-flex flex-column flex-sm-row justify-content-around align-items-center">
                <a class="login-required-cta--button" href="{% url 'register'%}"><i class="fas fa-user-plus"></i> Register</a>
                <a class="login-required-cta--button" href="{% url 'login'%}"><i class="fas fa-sign-in-alt"></i> Log in</a>
            </div>
        </div>
        {% endif %}
    </div>
</section>
{% endblock %}
