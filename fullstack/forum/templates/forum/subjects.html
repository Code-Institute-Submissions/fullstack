{% extends "forum/forum.html" %}
{% load thread_extras %}
{% block forum %}
    <section class="forum-intro">
        <h2>Welcome to the Fullstack Forum</h2>
    </section>
    {% load bootstrap_tags %}
    {% for subject in subjects %}
        <section class="subject-section">
            <div class="container subject-container forum-container row no-gutters align-items-center">
                <div class="subject-title-col col-12 col-md-4">
                    <h2 class="subject-title forum-title"><a class="subject-link forum-title-link" href="{% url "threads" subject.id %}">{{ subject.name }}</a></h2>
                </div>
                <div class="subject-desc-col col-12 col-md-5">
                    <span class="subject-desc">{% autoescape off %}{{ subject.description }}{% endautoescape %}</span>
                </div>
                <div class="activity-counter col-12 col-md-3">
                    <div class="threads-counter">Threads: <span>{{ subject.threads.count }}</span></div>
                    <div class="posts-counter">Posts: <span>{{ subject|get_total_subject_posts }}</span></div>
                </div>
            </div>
        </section>
    {% endfor %}
{% endblock %}